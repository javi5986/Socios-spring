<!--namespaces-->
<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaft.org">

<head>
	<!--incluir themes-->
	<link rel="stylesheet" th:href="@{/css/boostrap/themes/Slate/bootstrap.css}">
</head>

<body>
	<div th:insert="navbar.html" role="navigation"></div>
	<main>
		<section class="container mt-4">
			<h3> Datos del Socio </h3>
			<table class="table table-striped" id="tabla">

				<tr>
					<th>ID</th>
					<th>Apellido</th>
					<th>Nombre</th>
					<th>Documento</th>
					<th>Titular</th>
					<th>Habilitado</th>
				</tr>
				<!-- rows -->
				<tr th:each="socio : ${SOCIO}">

					<td th:text="${socio.id}"></td>
					<td th:text="${socio.apellido}"></td>
					<td th:text="${socio.nombre}"></td>
					<td th:text="${socio.numerodocumento}"></td>
					<td th:text="${socio.titular}"></td>
					<td th:text="${socio.habilitado}"></td>
				</tr>

			</table>
		</section>
		<hr>
		<section class="d-flex justify-content-around">
			<div class="p-3 bd-highlight">
				<h4> Categorias Asignadas </h4>
				<table class="table table-striped" id="tabla">

					<tr>
						<th>Nombre</th>
						<th>Monto</th>
						<th>Acciones</th>
					</tr>
					<!-- rows -->
					<tr th:each="categoriassocio : ${SOCIO.categorias}">
						<td th:text="${categoriassocio.nombre}"></td>
						<td th:text="${categoriassocio.monto}"></td>
						<td><a class="btn btn-danger btn-sm" th:href="@{'/sociosCategorias/eliminarCategoria/'+${SOCIO.id}+'/'+${categoriassocio.id}}">Eliminar</a></td>
					</tr>

				</table>
			</div>


			<div class="p-3 bd-highlight">
				<h4> Categorias Disponibles </h4>
				<table class="table table-striped" id="tabla">

					<tr>
						<th>ID</th>
						<th>Nombre</th>
						<th>Monto</th>
						<th> </th>
					</tr>
					<!-- rows -->
					<tr th:each="categorias : ${CATEGORIAS}">

						<td th:text="${categorias.id}"></td>
						<td th:text="${categorias.nombre}"></td>
						<td th:text="${categorias.monto}"></td>
						<td>
							<a th:id="${categorias.id}"	 class="btn btn-success btn-sm" th:href="@{'/sociosCategorias/agregarCategoria/'+${SOCIO.id}+'/'+${categorias.id}}">Agregar</a>
						</td>
					</tr>

				</table>
			</div>
		</section>


	</main>
</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<script th:inline="javascript">
/*<![CDATA[*/
	//function elementoEliminado(){
    const categorias = /*[[${CATEGORIAS}]]*/ 'default';
    const catSocio = /*[[${SOCIO.categorias}]]*/ 'default';
    
    for(i=0;i<catSocio.length;i++){
		for(j=0;j<categorias.length;j++){
			if(JSON.stringify(categorias[j])===JSON.stringify(catSocio[i]))
			{
				document.getElementById(categorias[j].id).className +=" disabled";
			}
		}	
	}
    
    
	//}
/*]]>*/
</script>
</html>