<!-- listar los cupones del sitio -->
<!--namespaces-->
<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaft.org">

<head>
	<!--incluir themes-->
	<link rel="stylesheet" th:href="@{/css/boostrap/themes/Slate/bootstrap.css}">
</head>

<body>
	<div th:insert="navbar.html" role="navigation"></div>
	<main>
		<section class="container">
		<div th:class="${CREATE}?'alert alert-success alert-dismissible fade show':'alert alert-success alert-dismissible fade visually-hidden'" role="alert">
  			<strong>Guardado con exito</strong> 
  			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		<div th:class="${DUPLICATE}?'alert alert-danger alert-dismissible fade show':'alert alert-success alert-dismissible fade visually-hidden'"
				role="alert">
				<strong>NOMBRE DE CATEGORIA DUPLICADO </strong> La categoria que intenta guardar ya existe
				<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
			</div>
			
			<h1>Alta Categorias</h1>
			<form 
				th:class="${#fields.hasErrors()} ? 'row g-3 needs-validation was-validated' : 'row g-3 needs-validation'"
				novalidate
			 	th:object="${CATEGORIA}"
			 	action="#"
			 	th:action="@{/categorias/alta}"
			 	th:method="POST"
			 	>

				<div class="col-md-4">
					<label for="validationCustom01" class="form-label">ID</label>
					<input type="number" 
					class="form-control"
					id="id" 
					th:field="*{id}" 
					disabled>
				</div>
				
				<div class="col-md-4">
					<label for="validationCustom01" class="form-label">Nombre (*)</label>
					<input type="text" class="form-control" 
							id="nombre" 
							required
							maxlength="50"
							th:field="*{nombre}">
					<div class="valid-feedback">
						Ok!
					</div>
					
			    	   <div th:if="${#fields.hasErrors('nombre')}"
				     		th:errors="*{nombre}"
				     		class="invalid-feedback"> 
			    	</div>
				</div>		
				
				<div class="col-md-4">
					<label for="validationCustom02" class="form-label">Monto (*)</label>
					<input type="number" class="form-control" 
							id="monto" required
							maxlength="50"
							th:field="*{monto}">
					<div class="valid-feedback">
						Ok!
					</div>
					
			    	   <div th:if="${#fields.hasErrors('monto')}"
				     		th:errors="*{monto}"
				     		class="invalid-feedback"> 
			    		</div>
				</div>
				
				 
				<div class="col-12">
					<button id="btn-alta" class="btn btn-primary" type="submit">GUARDAR</button>
					<a class="btn btn-primary" th:href="@{/categorias/index}">VOLVER</a>
				</div>
			</form>
		</section>
	</main>

</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<script th:inline="javascript">
	/*<![CDATA[*/
	//function elementoEliminado(){
	const categoria = /*[[${CATEGORIA.id}]]*/ 'default';
	if (categoria != null) {
		document.getElementById("btn-alta").className += " disabled";
	}
	//}
	/*]]>*/
</script>
<script>
		document.getElementById("nombre").focus();
</script>
</html>